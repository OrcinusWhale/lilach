<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<ScrollPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="il.cshaifasweng.OCSFMediatorExample.client.OrderDetailsController">
   <content>
      <VBox alignment="TOP_CENTER" spacing="20.0">
         <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
         </padding>
         <children>
            <!-- Header -->
            <HBox alignment="CENTER_LEFT" spacing="20.0">
               <children>
                  <Button fx:id="backButton" mnemonicParsing="false" onAction="#goBack" text="← Back to Order History" />
                  <Region HBox.hgrow="ALWAYS" />
                  <Label fx:id="orderIdLabel" text="Order #---" textFill="#2E8B57">
                     <font>
                        <Font name="System Bold" size="24.0" />
                     </font>
                  </Label>
               </children>
            </HBox>
            
            <!-- Loading Indicator -->
            <ProgressIndicator fx:id="loadingIndicator" visible="false" />
            
            <!-- Error Panel -->
            <VBox fx:id="errorPanel" alignment="CENTER" spacing="10.0" style="-fx-background-color: #f8d7da; -fx-background-radius: 5; -fx-padding: 15;" visible="false">
               <children>
                  <Label fx:id="errorLabel" text="" textFill="#721c24" wrapText="true" />
               </children>
            </VBox>

            <!-- Order Status and Priority -->
            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <Label text="Status:" style="-fx-font-weight: bold;" />
                  <Label fx:id="orderStatusLabel" text="PENDING" />
                  <Label text="Priority:" style="-fx-font-weight: bold;" />
                  <Label fx:id="orderPriorityLabel" text="SCHEDULED" />
               </children>
            </HBox>

            <!-- Order Information Section -->
            <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-border-color: #dee2e6; -fx-border-radius: 10; -fx-border-width: 1;">
               <children>
                  <Label text="Order Information" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                  
                  <GridPane hgap="15.0" vgap="10.0">
                     <columnConstraints>
                        <ColumnConstraints hgrow="NEVER" minWidth="120.0" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="NEVER" minWidth="120.0" />
                        <ColumnConstraints hgrow="ALWAYS" />
                     </columnConstraints>
                     <children>
                        <Label text="Order Date:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="orderDateLabel" text="---" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        
                        <Label text="Delivery Date:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                        <Label fx:id="deliveryDateLabel" text="---" GridPane.columnIndex="3" GridPane.rowIndex="0" />
                        
                        <Label text="Order Type:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="orderTypeLabel" text="---" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        
                        <Label text="Store:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="1" />
                        <Label fx:id="storeNameLabel" text="---" GridPane.columnIndex="3" GridPane.rowIndex="1" />
                     </children>
                  </GridPane>
               </children>
            </VBox>

            <!-- Customer Information Section -->
            <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-border-color: #dee2e6; -fx-border-radius: 10; -fx-border-width: 1;">
               <children>
                  <Label text="Customer Information" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                  
                  <GridPane hgap="15.0" vgap="10.0">
                     <columnConstraints>
                        <ColumnConstraints hgrow="NEVER" minWidth="120.0" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="NEVER" minWidth="120.0" />
                        <ColumnConstraints hgrow="ALWAYS" />
                     </columnConstraints>
                     <children>
                        <Label text="Name:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="customerNameLabel" text="---" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        
                        <Label text="Phone:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                        <Label fx:id="customerPhoneLabel" text="---" GridPane.columnIndex="3" GridPane.rowIndex="0" />
                     </children>
                  </GridPane>
               </children>
            </VBox>

            <!-- Delivery Information Section (shown only for delivery orders) -->
            <VBox fx:id="deliveryInfoSection" spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-border-color: #dee2e6; -fx-border-radius: 10; -fx-border-width: 1;">
               <children>
                  <Label text="Delivery Information" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                  
                  <GridPane hgap="15.0" vgap="10.0">
                     <columnConstraints>
                        <ColumnConstraints hgrow="NEVER" minWidth="120.0" />
                        <ColumnConstraints hgrow="ALWAYS" />
                     </columnConstraints>
                     <children>
                        <Label text="Address:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="deliveryAddressLabel" text="---" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        
                        <Label text="Recipient:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="recipientNameLabel" text="---" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        
                        <Label text="Phone:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <Label fx:id="recipientPhoneLabel" text="---" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                     </children>
                  </GridPane>
               </children>
            </VBox>

            <!-- Order Items Section -->
            <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-border-color: #dee2e6; -fx-border-radius: 10; -fx-border-width: 1;">
               <children>
                  <Label text="Order Items" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                  <VBox fx:id="orderItemsContainer" spacing="10.0" />
               </children>
            </VBox>

            <!-- Financial Summary Section -->
            <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-border-color: #dee2e6; -fx-border-radius: 10; -fx-border-width: 1;">
               <children>
                  <Label text="Order Summary" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                  
                  <GridPane hgap="15.0" vgap="10.0">
                     <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="NEVER" minWidth="100.0" />
                     </columnConstraints>
                     <children>
                        <Label text="Subtotal:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="subtotalLabel" text="0.00" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        
                        <Label text="Discount:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="discountLabel" text="0.00" textFill="#28a745" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        
                        <Label text="Delivery Fee:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <Label fx:id="deliveryFeeLabel" text="0.00" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                        
                        <Separator GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="3" />
                        
                        <Label text="Total:" style="-fx-font-weight: bold; -fx-font-size: 16px;" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                        <Label fx:id="finalTotalLabel" text="0.00" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E8B57;" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                     </children>
                  </GridPane>
               </children>
            </VBox>

            <!-- Additional Information Section -->
            <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-border-color: #dee2e6; -fx-border-radius: 10; -fx-border-width: 1;">
               <children>
                  <Label text="Additional Information" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                  
                  <VBox spacing="10.0">
                     <children>
                        <Label text="Greeting Card Message:" style="-fx-font-weight: bold;" />
                        <TextArea fx:id="greetingCardArea" editable="false" maxHeight="100.0" prefRowCount="3" wrapText="true" visible="false" />
                        
                        <Label text="Special Instructions:" style="-fx-font-weight: bold;" />
                        <TextArea fx:id="specialInstructionsArea" editable="false" maxHeight="100.0" prefRowCount="3" wrapText="true" visible="false" />
                     </children>
                  </VBox>
               </children>
            </VBox>
         </children>
      </VBox>
   </content>
</ScrollPane>
